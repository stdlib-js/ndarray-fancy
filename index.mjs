// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ctor@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-inherit@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/proxy-ctor@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-trim@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-multi@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-str2multislice@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-seq2multislice@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-str2slice@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-sargs2multislice@v0.3.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-properties-in@v0.2.2-esm/index.mjs";import{factory as p}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.3.0-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-slice@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-slice-assign@v0.2.1-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import{isPrimitive as g}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import{isPrimitive as u}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex-like@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-complex-floating-point-data-type@v0.2.2-esm/index.mjs";import I from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-floating-point-data-type@v0.2.2-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-unsigned-integer-data-type@v0.2.2-esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-signed-integer-data-type@v0.2.2-esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-safe-data-type-cast@v0.2.2-esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int8-max@v0.2.2-esm/index.mjs";import L from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int16-max@v0.2.2-esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int32-max@v0.3.0-esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-min-dtype@v0.3.0-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-dtype@v0.2.2-esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-from-scalar@v0.2.1-esm/index.mjs";var D=/^-?[0-9]+$/,U=/:/;function O(e,r){var t,s,j,h;if("S"===(j=(s=n(r))[0])){if(null===(h=l(s)))throw new Error(a("1j7En",r));h=new o(h)}else if("M"===j){if(null===(h=d(s)))throw new Error(a("1j7En",r))}else if(D.test(s))h=parseInt(s,10),h=new o(h);else if(U.test(s)){if(t=e.shape,(h=m(s,t,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===h.code)throw new Error(a("1j7Eq",r));if("ERR_SLICE_INVALID_ELLIPSIS"===h.code)throw new Error(a("1j7Er",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===h.code)throw new Error(a("1j7En",r));throw new RangeError(a("1j7Ev",t.join(","),i(s,/\.\.\.,/,"").split(",").length))}}else{if(0!==s.length&&"..."!==s)throw new Error(a("1j7En",r));h=new o}return h}function V(e,r,t){var s,j,h,p;if("S"===(h=(j=n(r))[0])){if(null===(p=l(j)))throw new Error(a("1j7En",r));p=new o(p)}else if("M"===h){if(null===(p=d(j)))throw new Error(a("1j7En",r))}else if(D.test(j))p=parseInt(j,10),p=new o(p);else{if(!(j.length>0))throw new RangeError(a("1j7Ev",e.shape.join(","),0));if(s=e.shape,(p=m(j,s,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===p.code)throw new Error(a("1j7Eq",r));if("ERR_SLICE_INVALID_ELLIPSIS"===p.code)throw new Error(a("1j7Er",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===p.code)throw new Error(a("1j7En",r));if("ERR_SLICE_TOO_MANY_DIMENSIONS"===p.code)throw new RangeError(a("1j7Ev",e.shape.join(","),i(j,/\.\.\.,/,"").split(",").length));if("ERR_SLICE_OUT_OF_BOUNDS"===p.code){if(t)throw new RangeError(a("1j7Ep",s.join(",")));p=m(j,s,!1)}}}return p}function M(e,r,t){var s,i,o;if("M"===(i=n(r))[0]){if(null===(o=d(i)))throw new Error(a("1j7En",r))}else if(U.test(i)||"..."===i){if(s=e.shape,(o=m(i,s,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===o.code)throw new Error(a("1j7Eq",r));if("ERR_SLICE_INVALID_ELLIPSIS"===o.code)throw new Error(a("1j7Er",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===o.code)throw new Error(a("1j7En",r));if("ERR_SLICE_OUT_OF_BOUNDS"===o.code){if(t)throw new RangeError(a("1j7Ep",s.join(",")));o=m(i,s,!1)}}}else if(null===(o=j(i)))throw new Error(a("1j7En",r));return o}var B=p(h(new r("generic",[0],[],[0],0,f.get("order"))));function P(e){return i(e,/^invalid argument/,"invalid operation")}function q(e){return function(r,t,s){if(B(t))return function(e,r,t){var s=e[r];return c(s)?function(){var r,n;for(r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);return s.apply(this===t?e:this,r)}:s}(r,t,s);return function(e,r,t,s){var n;n=s(e,r,!1);try{return E(t,n,!1,!1)}catch(e){throw new e.constructor(P(e.message))}}(r,t,s,e)}}function F(e){return{dtype:e}}function Q(e){return function(r,t,s,n){if(B(t))return function(e,r,t){return e[r]=t,!0}(r,t,s);return function(e,r,t,s,n){var i,o,d;if(!w(t))if("generic"===(o=e.dtype))t=A(t,F(o));else if(g(t))if(I(o))t=A(t,F(o));else if(x(o)){if(i=C(t),!R(i,o))throw new TypeError(a("1j7Ew",i,o));t=A(t,F(o))}else if(_(o)){if(!u(t))throw new TypeError(a("1j7Ew",C(t),o));if(i=t<0?C(t):t<=S?"int8":t<=L?"int16":t<=N?"int32":"float64",!R(i,o))throw new TypeError(a("1j7Ew",i,o));t=A(t,F(o))}else{if("binary"!==o)throw new TypeError(a("1j7Ex",o));if("uint8"!==(i=C(t)))throw new TypeError(a("1j7Ew",i,o));t=A(t,F(o))}else{if(!b(t))throw new TypeError(a("1j7Ew",typeof t,o));if(!y(o))throw new TypeError(a("1j7Ew",T(t),o));t=A(t,F(o))}d=n(e,r,!1);try{return v(t,s,d,!1),!0}catch(e){throw new e.constructor(P(e.message))}}(r,t,s,n,e)}}var k=q(O),G=Q(O),W=q(V),Y=Q(V),$=q(M),z=Q(M);function H(e,t,n,i,o,d,m){var l,a,j;return a=arguments.length,this instanceof H?(r.call(this,e,t,n,i,o,d,a<7?{}:m),s?(l={},0===(j=n.length)?(l.get=k,l.set=G):1===j?(l.get=W,l.set=Y):(l.get=$,l.set=z),new s(this,l)):(console.warn("WARNING: Proxy objects are not supported in the current environment. Some `FancyArray` functionality may not be available."),this)):a<7?new H(e,t,n,i,o,d):new H(e,t,n,i,o,d,m)}t(H,r),e(H,"name","ndarray");export{H as default};
//# sourceMappingURL=index.mjs.map
