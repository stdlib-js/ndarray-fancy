// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.1.0-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ctor@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-inherit@v0.1.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/proxy-ctor@v0.1.0-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-trim@v0.1.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@v0.1.0-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-multi@v0.1.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-str2multislice@v0.1.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-seq2multislice@v0.1.0-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-str2slice@v0.1.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-slice@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.1.0-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-range-error@v0.1.0-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-type-error@v0.1.0-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-syntax-error@v0.1.0-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-properties-in@v0.1.0-esm/index.mjs";import{factory as E}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.1.0-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.1.0-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-sargs2multislice@esm/index.mjs";function g(e){return o(e,/^invalid argument/,"invalid operation")}function b(e){return h(e)?RangeError:u(e)?TypeError:f(e)?SyntaxError:Error}var I=E(v(new r("generic",[0],[],[0],0,j.get("order")))),_=/^-?[0-9]+$/,y=/:/;function S(e,r,s){var i,h,u,f,v;if(I(r))return i=e[r],n(i)?function(){var r,n;for(r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);return i.apply(this===s?e:this,r)}:i;if("S"===(f=(u=t(r))[0])){if(null===(v=p(r)))throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r));v=new l(v)}else if("M"===f){if(null===(v=a(u)))throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r))}else if(_.test(u))v=parseInt(u,10),v=new l(v);else if(y.test(u)){if(h=e.shape,(v=d(u,h,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===v.code)throw new Error(c("invalid operation. A subsequence increment must be a non-zero integer. Value: `%s`.",r));if("ERR_SLICE_INVALID_ELLIPSIS"===v.code)throw new Error(c("invalid operation. A subsequence may only include a single ellipsis. Value: `%s`.",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===v.code)throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r));throw new RangeError(c("invalid operation. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.",h.join(","),o(u,/\.\.\.,/,"").split(",").length))}}else{if(0!==u.length&&"..."!==u)throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r));v=new l}try{return m(s,v,!0)}catch(e){throw new(b(e))(g(e.message))}}function R(e,r,s){var i,h,u,f,v;if(I(r))return h=e[r],n(h)?function(){var r,i;for(r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);return h.apply(this===s?e:this,r)}:h;if(!1,"S"===(f=(u=t(r))[0])){if(null===(v=p(r)))throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r));v=new l(v)}else if("M"===f){if(null===(v=a(u)))throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r))}else if(_.test(u))v=parseInt(u,10),v=new l(v);else{if(!(u.length>0))throw new RangeError(c("invalid operation. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.",e.shape.join(","),0));if(i=e.shape,(v=d(u,i,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===v.code)throw new Error(c("invalid operation. A subsequence increment must be a non-zero integer. Value: `%s`.",r));if("ERR_SLICE_INVALID_ELLIPSIS"===v.code)throw new Error(c("invalid operation. A subsequence may only include a single ellipsis. Value: `%s`.",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===v.code)throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r));if("ERR_SLICE_TOO_MANY_DIMENSIONS"===v.code)throw new RangeError(c("invalid operation. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.",e.shape.join(","),o(u,/\.\.\.,/,"").split(",").length));"ERR_SLICE_OUT_OF_BOUNDS"===v.code&&(v=d(u,i,!1))}}try{return m(s,v,false)}catch(e){throw new(b(e))(g(e.message))}}function N(e,r,s){var i,o,l,p;if(I(r))return o=e[r],n(o)?function(){var r,i;for(r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);return o.apply(this===s?e:this,r)}:o;if(!1,"M"===(l=t(r))[0]){if(null===(p=a(l)))throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r))}else if(y.test(l)||"..."===l){if(i=e.shape,(p=d(l,i,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===p.code)throw new Error(c("invalid operation. A subsequence increment must be a non-zero integer. Value: `%s`.",r));if("ERR_SLICE_INVALID_ELLIPSIS"===p.code)throw new Error(c("invalid operation. A subsequence may only include a single ellipsis. Value: `%s`.",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===p.code)throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r));"ERR_SLICE_OUT_OF_BOUNDS"===p.code&&(p=d(l,i,!1))}}else if(null===(p=w(l)))throw new Error(c("invalid operation. Unsupported slice operation. Value: `%s`.",r));try{return m(s,p,false)}catch(e){throw new(b(e))(g(e.message))}}function L(e,s,n,t,o,l,a){var d,p,m;return p=arguments.length,this instanceof L?(r.call(this,e,s,n,t,o,l,p<7?{}:a),i?(m=n.length,(d={}).get=0===m?S:1===m?R:N,new i(this,d)):(console.warn("WARNING: Proxy objects are not supported in the current environment. Some `FancyArray` functionality may not be available."),this)):p<7?new L(e,s,n,t,o,l):new L(e,s,n,t,o,l,a)}s(L,r),e(L,"name","ndarray");export{L as default};
//# sourceMappingURL=index.mjs.map
