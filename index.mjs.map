{"version":3,"file":"index.mjs","sources":["../lib/re_integer.js","../lib/re_subseq.js","../lib/prop2slice.0d.js","../lib/prop2slice.1d.js","../lib/prop2slice.nd.js","../lib/has_property.js","../lib/error_message.js","../lib/error_constructor.js","../lib/get.js","../lib/get_value.js","../lib/get_slice.js","../lib/set_slice.js","../lib/set.js","../lib/set_value.js","../lib/main.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Regular expression for testing whether a string is an integer string.\n*\n* @private\n* @name RE_INTEGER\n* @type {RegExp}\n*\n* @example\n* var bool = RE_INTEGER.test( '10' );\n* // returns true\n*\n* @example\n* var bool = RE_INTEGER.test( '-1' );\n* // returns true\n*\n* @example\n* var bool = RE_INTEGER.test( '0:10:2' );\n* // returns false\n*/\nvar RE_INTEGER = /^-?[0-9]+$/;\n\n\n// EXPORTS //\n\nexport default RE_INTEGER;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Regular expression for testing whether a string is a subsequence string.\n*\n* @private\n* @name RE_SUBSEQ\n* @type {RegExp}\n*\n* @example\n* var bool = RE_SUBSEQ.test( '0:10:2' );\n* // returns true\n*\n* @example\n* var bool = RE_SUBSEQ.test( '0' );\n* // returns false\n*\n* @example\n* var bool = RE_SUBSEQ.test( 'Slice(0,10,2)' );\n* // returns false\n*/\nvar RE_SUBSEQ = /:/;\n\n\n// EXPORTS //\n\nexport default RE_SUBSEQ;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport trim from '@stdlib/string-base-trim';\nimport replace from '@stdlib/string-base-replace';\nimport MultiSlice from '@stdlib/slice-multi';\nimport str2multislice from '@stdlib/slice-base-str2multislice';\nimport seq2multislice from '@stdlib/slice-base-seq2multislice';\nimport str2slice from '@stdlib/slice-base-str2slice';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport RE_INTEGER from './re_integer.js';\nimport RE_SUBSEQ from './re_subseq.js';\n\n\n// MAIN //\n\n/**\n* Converts a zero-dimensional ndarray indexing expression to a slice.\n*\n* @private\n* @param {Object} target - target object\n* @param {string} property - property name\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @throws {Error} invalid slice operation\n* @throws {RangeError} number of slice dimensions must match the number of array dimensions\n* @returns {MultiSlice} multi-slice object\n*/\nfunction prop2slice( target, property ) {\n\tvar shape;\n\tvar prop;\n\tvar ch;\n\tvar s;\n\n\tprop = trim( property );\n\n\t// Retrieve the first character in order to to detect how a slice operation was specified:\n\tch = prop[ 0 ];\n\n\t// Case: slice\n\tif ( ch === 'S' ) {\n\t\t// Convert the string to a slice object:\n\t\ts = str2slice( property );\n\t\tif ( s === null ) {\n\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t}\n\t\t// Create a multi-slice:\n\t\ts = new MultiSlice( s );\n\t}\n\t// Case: multi-slice\n\telse if ( ch === 'M' ) {\n\t\t// Convert the string to a slice object:\n\t\ts = str2multislice( prop );\n\t\tif ( s === null ) {\n\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t}\n\t}\n\t// Case: integer\n\telse if ( RE_INTEGER.test( prop ) ) {\n\t\t// Convert the string to a numeric value:\n\t\ts = parseInt( prop, 10 );\n\n\t\t// Create a multi-slice:\n\t\ts = new MultiSlice( s );\n\t}\n\t// Case: subsequence string (e.g., ':10,1,::-1,:,-5,2::3')\n\telse if ( RE_SUBSEQ.test( prop ) ) {\n\t\tshape = target.shape;\n\t\ts = seq2multislice( prop, shape, true );\n\t\tif ( s.code ) {\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_INCREMENT' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. A subsequence increment must be a non-zero integer. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_ELLIPSIS' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. A subsequence may only include a single ellipsis. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_SUBSEQUENCE' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\t// s.code === 'ERR_SLICE_TOO_MANY_DIMENSIONS'\n\t\t\tthrow new RangeError( format( 'invalid operation. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.', shape.join( ',' ), replace( prop, /\\.\\.\\.,/, '' ).split( ',' ).length ) );\n\t\t}\n\t}\n\t// Case: empty string or ellipsis\n\telse if ( prop.length === 0 || prop === '...' ) {\n\t\ts = new MultiSlice();\n\t}\n\t// Case: non-empty string\n\telse {\n\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t}\n\treturn s;\n}\n\n\n// EXPORTS //\n\nexport default prop2slice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport trim from '@stdlib/string-base-trim';\nimport replace from '@stdlib/string-base-replace';\nimport MultiSlice from '@stdlib/slice-multi';\nimport str2multislice from '@stdlib/slice-base-str2multislice';\nimport seq2multislice from '@stdlib/slice-base-seq2multislice';\nimport str2slice from '@stdlib/slice-base-str2slice';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport RE_INTEGER from './re_integer.js';\n\n\n// MAIN //\n\n/**\n* Converts a one-dimensional ndarray indexing expression to a slice.\n*\n* @private\n* @param {Object} target - target object\n* @param {string} property - property name\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @throws {Error} invalid slice operation\n* @throws {RangeError} number of slice dimensions must match the number of array dimensions\n* @returns {MultiSlice} multi-slice object\n*/\nfunction prop2slice( target, property, strict ) {\n\tvar shape;\n\tvar prop;\n\tvar ch;\n\tvar s;\n\n\tprop = trim( property );\n\n\t// Retrieve the first character in order to to detect how a slice operation was specified:\n\tch = prop[ 0 ];\n\n\t// Case: slice\n\tif ( ch === 'S' ) {\n\t\t// Convert the string to a slice object:\n\t\ts = str2slice( property );\n\t\tif ( s === null ) {\n\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t}\n\t\t// Create a multi-slice:\n\t\ts = new MultiSlice( s );\n\t}\n\t// Case: multi-slice\n\telse if ( ch === 'M' ) {\n\t\t// Convert the string to a slice object:\n\t\ts = str2multislice( prop );\n\t\tif ( s === null ) {\n\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t}\n\t}\n\t// Case: integer\n\telse if ( RE_INTEGER.test( prop ) ) {\n\t\t// Convert the string to a numeric value:\n\t\ts = parseInt( prop, 10 );\n\n\t\t// Create a multi-slice:\n\t\ts = new MultiSlice( s );\n\t}\n\t// Case: subsequence string\n\telse if ( prop.length > 0 ) {\n\t\tshape = target.shape;\n\t\ts = seq2multislice( prop, shape, true );\n\t\tif ( s.code ) {\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_INCREMENT' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. A subsequence increment must be a non-zero integer. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_ELLIPSIS' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. A subsequence may only include a single ellipsis. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_SUBSEQUENCE' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\tif ( s.code === 'ERR_SLICE_TOO_MANY_DIMENSIONS' ) {\n\t\t\t\tthrow new RangeError( format( 'invalid operation. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.', target.shape.join( ',' ), replace( prop, /\\.\\.\\.,/, '' ).split( ',' ).length ) );\n\t\t\t}\n\t\t\t// NOTE: the following error check must come last due to fall-through when in non-strict mode...\n\t\t\tif ( s.code === 'ERR_SLICE_OUT_OF_BOUNDS' ) {\n\t\t\t\tif ( strict ) {\n\t\t\t\t\tthrow new RangeError( format( 'invalid operation. Slice exceeds array bounds. Array shape: (%s).', shape.join( ',' ) ) );\n\t\t\t\t}\n\t\t\t\t// Repeat parsing, this time allowing for out-of-bounds slices:\n\t\t\t\ts = seq2multislice( prop, shape, false );\n\t\t\t}\n\t\t}\n\t}\n\t// Case: empty string\n\telse {\n\t\tthrow new RangeError( format( 'invalid operation. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.', target.shape.join( ',' ), 0 ) );\n\t}\n\treturn s;\n}\n\n\n// EXPORTS //\n\nexport default prop2slice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport trim from '@stdlib/string-base-trim';\nimport str2multislice from '@stdlib/slice-base-str2multislice';\nimport seq2multislice from '@stdlib/slice-base-seq2multislice';\nimport sargs2multislice from '@stdlib/slice-base-sargs2multislice';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport RE_SUBSEQ from './re_subseq.js';\n\n\n// MAIN //\n\n/**\n* Converts an n-dimensional ndarray indexing expression to a slice.\n*\n* @private\n* @param {Object} target - target object\n* @param {string} property - property name\n* @param {boolean} strict - boolean indicating whether to enforce strict bounds checking\n* @throws {Error} invalid slice operation\n* @throws {RangeError} number of slice dimensions must match the number of array dimensions\n* @returns {MultiSlice} multi-slice object\n*/\nfunction prop2slice( target, property, strict ) {\n\tvar shape;\n\tvar prop;\n\tvar ch;\n\tvar s;\n\n\tprop = trim( property );\n\n\t// Retrieve the first character in order to to detect how a slice operation was specified:\n\tch = prop[ 0 ];\n\n\t// Case: multi-slice (e.g., 'MultiSlice(Slice(0,10,2),null,2,Slice(10,5,-1))')\n\tif ( ch === 'M' ) {\n\t\ts = str2multislice( prop );\n\t\tif ( s === null ) {\n\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t}\n\t}\n\t// Case: subsequence string (e.g., '...' or ':10,1,::-1,:,-5,2::3')\n\telse if ( RE_SUBSEQ.test( prop ) || prop === '...' ) {\n\t\tshape = target.shape;\n\t\ts = seq2multislice( prop, shape, true );\n\t\tif ( s.code ) {\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_INCREMENT' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. A subsequence increment must be a non-zero integer. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_ELLIPSIS' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. A subsequence may only include a single ellipsis. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\tif ( s.code === 'ERR_SLICE_INVALID_SUBSEQUENCE' ) {\n\t\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t\t}\n\t\t\t// NOTE: the following error check must come last due to fall-through when in non-strict mode...\n\t\t\tif ( s.code === 'ERR_SLICE_OUT_OF_BOUNDS' ) {\n\t\t\t\tif ( strict ) {\n\t\t\t\t\tthrow new RangeError( format( 'invalid operation. Slice exceeds array bounds. Array shape: (%s).', shape.join( ',' ) ) );\n\t\t\t\t}\n\t\t\t\t// Repeat parsing, this time allowing for out-of-bounds slices:\n\t\t\t\ts = seq2multislice( prop, shape, false );\n\t\t\t}\n\t\t}\n\t}\n\t// Case: array syntax (e.g., [ Slice(0,10,1), null, Slice(4,null,-1) ]) or Slice or integer or arbitrary string (where the latter three are not valid for >2d arrays)\n\telse {\n\t\ts = sargs2multislice( prop );\n\t\tif ( s === null ) {\n\t\t\tthrow new Error( format( 'invalid operation. Unsupported slice operation. Value: `%s`.', property ) );\n\t\t}\n\t}\n\treturn s;\n}\n\n\n// EXPORTS //\n\nexport default prop2slice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport propertiesIn from '@stdlib/utils-properties-in';\nimport { factory as contains } from '@stdlib/array-base-assert-contains';\nimport ndarray from '@stdlib/ndarray-ctor';\nimport defaults from '@stdlib/ndarray-defaults';\n\n\n// MAIN //\n\n/**\n* Tests whether a property name exists on the parent prototype.\n*\n* @private\n* @name hasProperty\n* @type {Function}\n* @param {(string|symbol)} name - property name\n* @returns {boolean} boolean indicating whether the property exists on the parent prototype\n*\n* @example\n* var bool = hasProperty( 'get' );\n* // returns true\n*\n* bool = hasProperty( 'foo' );\n* // returns false\n*/\nvar hasProperty = contains( propertiesIn( new ndarray( 'generic', [ 0 ], [], [ 0 ], 0, defaults.get( 'order' ) ) ) );\n\n\n// EXPORTS //\n\nexport default hasProperty;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport replace from '@stdlib/string-base-replace';\n\n\n// MAIN //\n\n/**\n* Returns an updated error message for trapped errors.\n*\n* @private\n* @param {string} msg - error message\n* @returns {string} updated message\n*/\nfunction errMessage( msg ) {\n\treturn replace( msg, /^invalid argument/, 'invalid operation' );\n}\n\n\n// EXPORTS //\n\nexport default errMessage;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isRangeError from '@stdlib/assert-is-range-error';\nimport isTypeError from '@stdlib/assert-is-type-error';\nimport isSyntaxError from '@stdlib/assert-is-syntax-error';\n\n\n// MAIN //\n\n/**\n* Returns the error constructor for a provided error object.\n*\n* @private\n* @param {Error} err - error object\n* @returns {Function} error constructor\n*/\nfunction errConstructor( err ) {\n\tif ( isRangeError( err ) ) {\n\t\treturn RangeError;\n\t}\n\tif ( isTypeError( err ) ) {\n\t\treturn TypeError;\n\t}\n\tif ( isSyntaxError( err ) ) {\n\t\treturn SyntaxError;\n\t}\n\treturn Error;\n}\n\n\n// EXPORTS //\n\nexport default errConstructor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport hasProperty from './has_property.js';\nimport getValue from './get_value.js';\nimport getSlice from './get_slice.js';\n\n\n// MAIN //\n\n/**\n* Returns a trap for retrieving property values.\n*\n* @private\n* @param {Function} prop2slice - function for converting an indexing expression to a slice\n* @returns {Function} handler\n*/\nfunction factory( prop2slice ) {\n\treturn get;\n\n\t/**\n\t* Trap for retrieving property values.\n\t*\n\t* @private\n\t* @param {Object} target - target object\n\t* @param {(string|symbol)} property - property name\n\t* @param {Object} receiver - the proxy object or an object inheriting from the proxy\n\t* @throws {Error} invalid slice operation\n\t* @throws {RangeError} number of slice dimensions must match the number of array dimensions\n\t* @returns {*} result\n\t*/\n\tfunction get( target, property, receiver ) {\n\t\tif ( hasProperty( property ) ) {\n\t\t\treturn getValue( target, property, receiver );\n\t\t}\n\t\treturn getSlice( target, property, receiver, prop2slice );\n\t}\n}\n\n\n// EXPORTS //\n\nexport default factory;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isFunction from '@stdlib/assert-is-function';\n\n\n// MAIN //\n\n/**\n* Returns the property value associated with a specified property.\n*\n* @private\n* @param {Object} target - target object\n* @param {(string|symbol)} property - property\n* @param {Object} receiver - the proxy object or an object inheriting from the proxy\n* @returns {*} result\n*/\nfunction getValue( target, property, receiver ) {\n\tvar value = target[ property ];\n\tif ( isFunction( value ) ) {\n\t\treturn wrapper;\n\t}\n\treturn value;\n\n\t/**\n\t* Method wrapper.\n\t*\n\t* @private\n\t* @returns {*} results\n\t*/\n\tfunction wrapper() {\n\t\tvar args;\n\t\tvar i;\n\n\t\targs = [];\n\t\tfor ( i = 0; i < arguments.length; i++ ) {\n\t\t\targs.push( arguments[ i ] );\n\t\t}\n\t\treturn value.apply( ( this === receiver ) ? target : this, args ); // eslint-disable-line no-invalid-this\n\t}\n}\n\n\n// EXPORTS //\n\nexport default getValue;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport slice from '@stdlib/ndarray-base-slice';\nimport errMessage from './error_message.js';\nimport errConstructor from './error_constructor.js';\n\n\n// MAIN //\n\n/**\n* Returns an ndarray view.\n*\n* @private\n* @param {Object} target - target object\n* @param {string} property - property name\n* @param {Object} receiver - the proxy object or an object inheriting from the proxy\n* @param {Function} prop2slice - function for converting an indexing expression to a slice\n* @throws {Error} invalid slice operation\n* @throws {RangeError} number of slice dimensions must match the number of array dimensions\n* @returns {FancyArray} result\n*/\nfunction getSlice( target, property, receiver, prop2slice ) { // eslint-disable-line stdlib/jsdoc-require-throws-tags\n\tvar strict;\n\tvar E;\n\tvar s;\n\n\tstrict = false; // TODO: support strict mode\n\ts = prop2slice( target, property, strict );\n\ttry {\n\t\treturn slice( receiver, s, strict, false );\n\t} catch ( err ) {\n\t\tE = errConstructor( err );\n\t\tthrow new E( errMessage( err.message ) );\n\t}\n}\n\n\n// EXPORTS //\n\nexport default getSlice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport sliceAssign from '@stdlib/ndarray-base-slice-assign';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport { isPrimitive as isNumber } from '@stdlib/assert-is-number';\nimport { isPrimitive as isInteger } from '@stdlib/assert-is-integer';\nimport isComplexLike from '@stdlib/assert-is-complex-like';\nimport isComplexDataType from '@stdlib/ndarray-base-assert-is-complex-floating-point-data-type';\nimport isFloatingDataType from '@stdlib/ndarray-base-assert-is-floating-point-data-type';\nimport isUnsignedIntegerDataType from '@stdlib/ndarray-base-assert-is-unsigned-integer-data-type';\nimport isSignedIntegerDataType from '@stdlib/ndarray-base-assert-is-signed-integer-data-type';\nimport isSafeCast from '@stdlib/ndarray-base-assert-is-safe-data-type-cast';\nimport INT8_MAX from '@stdlib/constants-int8-max';\nimport INT16_MAX from '@stdlib/constants-int16-max';\nimport INT32_MAX from '@stdlib/constants-int32-max';\nimport minDataType from '@stdlib/ndarray-min-dtype';\nimport complexDataType from '@stdlib/complex-dtype';\nimport scalar2ndarray from '@stdlib/ndarray-from-scalar';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport errMessage from './error_message.js';\nimport errConstructor from './error_constructor.js';\n\n\n// FUNCTIONS //\n\n/**\n* Returns an options object for creating an ndarray from a scalar value.\n*\n* @private\n* @param {string} dtype - output array data type\n* @returns {Object} options\n*/\nfunction options( dtype ) {\n\treturn {\n\t\t'dtype': dtype\n\t};\n}\n\n\n// MAIN //\n\n/**\n* Sets element values belonging to the ndarray view specified by an indexing expression.\n*\n* @private\n* @param {Object} target - target object\n* @param {string} property - indexing expression\n* @param {*} value - new value\n* @param {Object} receiver - the proxy object or an object inheriting from the proxy\n* @param {Function} prop2slice - function for converting an indexing expression to a slice\n* @throws {Error} invalid slice operation\n* @throws {RangeError} number of slice dimensions must match the number of array dimensions\n* @throws {Error} assigned value must be broadcast compatible with target array view\n* @throws {TypeError} assigned value cannot be safely cast to the target array data type\n* @throws {TypeError} target array must have a supported data type\n* @returns {boolean} boolean indicating whether assignment succeeded\n*/\nfunction setSlice( target, property, value, receiver, prop2slice ) { // eslint-disable-line stdlib/jsdoc-require-throws-tags\n\tvar strict;\n\tvar vdt;\n\tvar dt;\n\tvar E;\n\tvar s;\n\n\tif ( !isndarrayLike( value ) ) {\n\t\tdt = target.dtype;\n\n\t\t// If the target array data type is \"generic\", we can just go ahead and \"cast\" to the target array data type...\n\t\tif ( dt === 'generic' ) {\n\t\t\tvalue = scalar2ndarray( value, options( dt ) );\n\t\t}\n\t\t// If the input value is real-valued number, we need to inspect the value to determine whether we can safely cast the value to the target array data type...\n\t\telse if ( isNumber( value ) ) {\n\t\t\t// If the target array has a floating-point data type, we can just go ahead and cast the input scalar to the target array data type...\n\t\t\tif ( isFloatingDataType( dt ) ) {\n\t\t\t\tvalue = scalar2ndarray( value, options( dt ) );\n\t\t\t}\n\t\t\t// If the target array has an unsigned integer data type, then the assigned value must be a compatible nonnegative integer value...\n\t\t\telse if ( isUnsignedIntegerDataType( dt ) ) {\n\t\t\t\tvdt = minDataType( value );\n\t\t\t\tif ( isSafeCast( vdt, dt ) ) {\n\t\t\t\t\tvalue = scalar2ndarray( value, options( dt ) );\n\t\t\t\t} else {\n\t\t\t\t\tthrow new TypeError( format( 'invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].', vdt, dt ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If the target array has a signed integer data type, then the assigned value must be a compatible integer value...\n\t\t\telse if ( isSignedIntegerDataType( dt ) ) {\n\t\t\t\tif ( !isInteger( value ) ) {\n\t\t\t\t\tthrow new TypeError( format( 'invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].', minDataType( value ), dt ) );\n\t\t\t\t}\n\t\t\t\t// Manually resolve the minimum data type of the closest \"kind\" necessary for storing a scalar value, as `minDataType()` defaults to unsigned integer data types when a scalar value is greater than or equal to zero...\n\t\t\t\tif ( value < 0 ) {\n\t\t\t\t\tvdt = minDataType( value );\n\t\t\t\t} else if ( value <= INT8_MAX ) { // TODO: consider moving this logic to `@stdlib/ndarray/base/min-signed-intger-dtype` where the interface can assume that `value` is integer-valued\n\t\t\t\t\tvdt = 'int8';\n\t\t\t\t} else if ( value <= INT16_MAX ) {\n\t\t\t\t\tvdt = 'int16';\n\t\t\t\t} else if ( value <= INT32_MAX ) {\n\t\t\t\t\tvdt = 'int32';\n\t\t\t\t} else {\n\t\t\t\t\tvdt = 'float64';\n\t\t\t\t}\n\t\t\t\tif ( isSafeCast( vdt, dt ) ) {\n\t\t\t\t\tvalue = scalar2ndarray( value, options( dt ) );\n\t\t\t\t} else {\n\t\t\t\t\tthrow new TypeError( format( 'invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].', vdt, dt ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If the target array has \"binary\" data type, then the assigned value must be a compatible nonnegative integer value...\n\t\t\telse if ( dt === 'binary' ) {\n\t\t\t\tvdt = minDataType( value );\n\t\t\t\tif ( vdt === 'uint8' ) {\n\t\t\t\t\tvalue = scalar2ndarray( value, options( dt ) );\n\t\t\t\t} else {\n\t\t\t\t\tthrow new TypeError( format( 'invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].', vdt, dt ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If we reach this point, we must be dealing with an unexpected target array data type...\n\t\t\telse {\n\t\t\t\t// Raise an exception in order to flag that, in order to perform assignment, we need to add explicit support for additional data types:\n\t\t\t\tthrow new TypeError( format( 'invalid operation. Unsupported target array data type. Data type: `%s`.', dt ) );\n\t\t\t}\n\t\t}\n\t\t// If the target array is not \"generic\" and the input value is a complex number, then the target array data type must also have a complex number data type...\n\t\telse if ( isComplexLike( value ) ) {\n\t\t\tif ( !isComplexDataType( dt ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].', complexDataType( value ), dt ) );\n\t\t\t}\n\t\t\tvalue = scalar2ndarray( value, options( dt ) );\n\t\t}\n\t\t// If the target array is not \"generic\" and the input value is neither a real- or complex-valued number, raise an exception in order to flag that, in order to perform assignment, we need to add explicit support for additional data types...\n\t\telse {\n\t\t\tthrow new TypeError( format( 'invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].', typeof value, dt ) );\n\t\t}\n\t}\n\tstrict = false; // TODO: support strict mode\n\ts = prop2slice( target, property, strict );\n\ttry {\n\t\tsliceAssign( value, receiver, s, strict );\n\t\treturn true;\n\t} catch ( err ) {\n\t\tE = errConstructor( err );\n\t\tthrow new E( errMessage( err.message ) );\n\t}\n}\n\n\n// EXPORTS //\n\nexport default setSlice;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport hasProperty from './has_property.js';\nimport setValue from './set_value.js';\nimport setSlice from './set_slice.js';\n\n\n// MAIN //\n\n/**\n* Returns a trap for setting property values.\n*\n* @private\n* @param {Function} prop2slice - function for converting an indexing expression to a slice\n* @returns {Function} handler\n*/\nfunction factory( prop2slice ) {\n\treturn set;\n\n\t/**\n\t* Trap for setting property values.\n\t*\n\t* @private\n\t* @param {Object} target - target object\n\t* @param {(string|symbol)} property - property name\n\t* @param {*} value - new value\n\t* @param {Object} receiver - the proxy object or an object inheriting from the proxy\n\t* @throws {Error} invalid slice operation\n\t* @throws {RangeError} number of slice dimensions must match the number of array dimensions\n\t* @throws {Error} assigned value must be broadcast compatible with output array view\n\t* @throws {TypeError} assigned value cannot be safely cast to the output array data type\n\t* @returns {boolean} boolean indicating whether assignment succeeded\n\t*/\n\tfunction set( target, property, value, receiver ) {\n\t\tif ( hasProperty( property ) ) {\n\t\t\treturn setValue( target, property, value );\n\t\t}\n\t\treturn setSlice( target, property, value, receiver, prop2slice );\n\t}\n}\n\n\n// EXPORTS //\n\nexport default factory;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Sets the value associated with a specified property.\n*\n* @private\n* @param {Object} target - target object\n* @param {string} property - property\n* @param {*} value - new value\n* @param {Object} receiver - the proxy object or an object inheriting from the proxy\n* @returns {boolean} boolean indicating whether assignment succeeded\n*/\nfunction setValue( target, property, value ) {\n\ttarget[ property ] = value;\n\treturn true;\n}\n\n\n// EXPORTS //\n\nexport default setValue;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable max-len */\n\n'use strict';\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property';\nimport parent from '@stdlib/ndarray-ctor'; // eslint-disable-line stdlib/no-redeclare\nimport inherit from '@stdlib/utils-inherit';\nimport Proxy from '@stdlib/proxy-ctor';\nimport prop2slice0d from './prop2slice.0d.js';\nimport prop2slice1d from './prop2slice.1d.js';\nimport prop2slicend from './prop2slice.nd.js';\nimport get from './get.js';\nimport set from './set.js';\n\n\n// VARIABLES //\n\nvar get0d = get( prop2slice0d );\nvar set0d = set( prop2slice0d );\nvar get1d = get( prop2slice1d );\nvar set1d = set( prop2slice1d );\nvar getnd = get( prop2slicend );\nvar setnd = set( prop2slicend );\n\n\n// MAIN //\n\n/**\n* Fancy ndarray constructor.\n*\n* @constructor\n* @param {string} dtype - data type\n* @param {Collection} buffer - data buffer\n* @param {NonNegativeIntegerArray} shape - array shape\n* @param {IntegerArray} strides - array strides\n* @param {NonNegativeInteger} offset - index offset\n* @param {string} order - specifies whether an array is row-major (C-style) or column-major (Fortran-style)\n* @param {Options} [options] - function options\n* @param {string} [options.mode=\"throw\"] - specifies how to handle indices which exceed array dimensions\n* @param {StringArray} [options.submode=[\"throw\"]] - specifies how to handle subscripts which exceed array dimensions on a per dimension basis\n* @param {boolean} [options.readonly=false] - boolean indicating whether an array should be read-only\n* @throws {TypeError} `dtype` argument must be a supported ndarray data type\n* @throws {TypeError} `buffer` argument must be an array-like object, typed-array-like, or a Buffer\n* @throws {TypeError} `buffer` argument `get` and `set` properties must be functions\n* @throws {TypeError} `shape` argument must be an array-like object containing nonnegative integers\n* @throws {Error} `shape` argument length must equal the number of dimensions\n* @throws {TypeError} `strides` argument must be an array-like object containing integers\n* @throws {Error} `strides` argument length must equal the number of dimensions (except for zero-dimensional arrays; in which case, the `strides` argument length must be equal to `1`)\n* @throws {Error} for zero-dimensional ndarrays, the `strides` argument must contain a single element equal to `0`\n* @throws {TypeError} `offset` argument must be a nonnegative integer\n* @throws {TypeError} `order` argument must be a supported ndarray order\n* @throws {Error} `buffer` argument must be compatible with specified meta data\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} must provide valid options\n* @throws {RangeError} too many dimensions\n* @returns {FancyArray} FancyArray instance\n*\n* @example\n* var buffer = [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0 ];\n* var shape = [ 3, 2 ];\n* var strides = [ 2, 1 ];\n* var offset = 0;\n*\n* var out = new FancyArray( 'generic', buffer, shape, strides, offset, 'row-major' );\n* // returns <FancyArray>\n*/\nfunction FancyArray( dtype, buffer, shape, strides, offset, order, options ) {\n\tvar handlers;\n\tvar nargs;\n\tvar ndims;\n\n\tnargs = arguments.length;\n\tif ( !( this instanceof FancyArray ) ) {\n\t\tif ( nargs < 7 ) {\n\t\t\treturn new FancyArray( dtype, buffer, shape, strides, offset, order );\n\t\t}\n\t\treturn new FancyArray( dtype, buffer, shape, strides, offset, order, options );\n\t}\n\t// Call the parent constructor:\n\tparent.call( this, dtype, buffer, shape, strides, offset, order, ( nargs < 7 ) ? {} : options );\n\n\tif ( Proxy ) { // NOTE: cannot use `@stdlib/assert/has-proxy-support` here, as that API uses code evaluation and might violate CSPs\n\t\tndims = shape.length;\n\t\thandlers = {};\n\t\tif ( ndims === 0 ) {\n\t\t\thandlers.get = get0d;\n\t\t\thandlers.set = set0d;\n\t\t} else if ( ndims === 1 ) {\n\t\t\thandlers.get = get1d;\n\t\t\thandlers.set = set1d;\n\t\t} else {\n\t\t\thandlers.get = getnd;\n\t\t\thandlers.set = setnd;\n\t\t}\n\t\treturn new Proxy( this, handlers );\n\t}\n\t// TODO: replace with `@stdlib/console/warn` (or equivalent once available)\n\tconsole.warn( 'WARNING: Proxy objects are not supported in the current environment. Some `FancyArray` functionality may not be available.' ); // eslint-disable-line no-console\n\treturn this;\n}\n\n// Inherit from the parent constructor:\ninherit( FancyArray, parent );\n\n/**\n* Constructor name.\n*\n* @name name\n* @memberof FancyArray\n* @type {string}\n* @default 'ndarray'\n*\n* @example\n* var str = FancyArray.name;\n* // returns 'ndarray'\n*/\nsetReadOnly( FancyArray, 'name', 'ndarray' );\n\n\n// EXPORTS //\n\nexport default FancyArray;\n"],"names":["RE_INTEGER","RE_SUBSEQ","prop2slice","target","property","shape","prop","ch","s","trim","str2slice","Error","format","MultiSlice","str2multislice","test","parseInt","seq2multislice","code","RangeError","join","replace","split","length","strict","sargs2multislice","hasProperty","contains","propertiesIn","ndarray","defaults","get","errMessage","msg","errConstructor","err","isRangeError","isTypeError","TypeError","isSyntaxError","SyntaxError","factory","receiver","value","isFunction","args","i","arguments","push","apply","this","getValue","slice","message","getSlice","options","dtype","setValue","vdt","dt","isndarrayLike","scalar2ndarray","isNumber","isFloatingDataType","isUnsignedIntegerDataType","minDataType","isSafeCast","isSignedIntegerDataType","isInteger","INT8_MAX","INT16_MAX","INT32_MAX","isComplexLike","isComplexDataType","complexDataType","sliceAssign","setSlice","get0d","prop2slice0d","set0d","set","get1d","prop2slice1d","set1d","getnd","prop2slicend","setnd","FancyArray","buffer","strides","offset","order","handlers","nargs","ndims","parent","call","Proxy","console","warn","inherit","setReadOnly"],"mappings":"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"}